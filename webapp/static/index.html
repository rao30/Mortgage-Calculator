<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mortgage Insights Studio</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js" defer></script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@tailwindcss/typography@0.5.10/dist/typography.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/tailwindcss@3.4.3/dist/tailwind.min.css"
    />
    <link rel="stylesheet" href="/static/styles.css" />
  </head>
  <body class="min-h-screen bg-slate-950 text-slate-100">
    <div class="absolute inset-0 overflow-hidden">
      <div class="gradient-blur"></div>
    </div>
    <div class="relative z-10">
      <header class="px-6 pt-10 pb-6 max-w-6xl mx-auto">
        <div class="flex flex-col gap-4">
          <span class="badge">Mortgage Toolkit</span>
          <h1 class="text-3xl md:text-4xl font-semibold tracking-tight">
            Explore rich mortgage comparisons in seconds
          </h1>
          <p class="text-slate-300 max-w-3xl">
            Configure loan scenarios, inspect amortization schedules, and visualize payoff
            curves using a modern, Shadcn-inspired interface.
          </p>
        </div>
      </header>

      <main class="px-6 pb-16 max-w-6xl mx-auto flex flex-col gap-10">
        <section class="card">
          <form id="calculatorForm" class="flex flex-col gap-6">
            <div class="grid md:grid-cols-3 gap-6">
              <label class="form-field md:col-span-1">
                <span class="form-label">Loan Amount</span>
                <div class="form-input">
                  <span class="prefix">$</span>
                  <input
                    id="loanAmount"
                    type="number"
                    min="1000"
                    step="1000"
                    placeholder="350000"
                    required
                  />
                </div>
              </label>
              <label class="form-field md:col-span-2">
                <span class="form-label">Schedule Rows (max 1200)</span>
                <input
                  id="scheduleLimit"
                  class="text-input"
                  type="number"
                  min="1"
                  max="1200"
                  value="360"
                />
              </label>
            </div>

            <div class="flex flex-col gap-3">
              <div class="flex items-center justify-between">
                <span class="form-label">Scenarios</span>
                <button type="button" id="addScenario" class="btn ghost">Add scenario</button>
              </div>
              <div id="scenarios" class="flex flex-col gap-3"></div>
              <p class="text-xs text-slate-400">
                Add mortgage terms in years with their annual interest rate. Longer terms or
                higher rates highlight total interest paid.
              </p>
            </div>

            <div class="flex flex-col md:flex-row gap-3 md:items-center md:justify-between">
              <p class="text-sm text-slate-300">
                Results include amortization tables and payoff insights for each scenario.
              </p>
              <button type="submit" class="btn primary">Generate insights</button>
            </div>
            <p id="formError" class="text-sm text-rose-300 hidden"></p>
          </form>
        </section>

        <section id="results" class="flex flex-col gap-6 hidden">
          <div class="grid gap-4 md:grid-cols-3" id="summaryCards"></div>
          <div class="card">
            <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4">
              <div>
                <h2 class="text-xl font-semibold">Scenario summary</h2>
                <p class="text-sm text-slate-400">
                  Compare monthly payments and total interest across scenarios.
                </p>
              </div>
              <div class="flex items-center gap-2">
                <label class="text-sm text-slate-300" for="scenarioSelect">View details for</label>
                <select id="scenarioSelect" class="select"></select>
              </div>
            </div>
            <div class="overflow-x-auto">
              <table class="min-w-full text-left text-sm">
                <thead class="text-slate-300 uppercase tracking-wide text-xs">
                  <tr>
                    <th class="px-4 py-3">Term (years)</th>
                    <th class="px-4 py-3">Rate</th>
                    <th class="px-4 py-3">Monthly Payment</th>
                    <th class="px-4 py-3">Total Interest</th>
                  </tr>
                </thead>
                <tbody id="summaryTable" class="divide-y divide-slate-800"></tbody>
              </table>
            </div>
          </div>

          <div class="grid gap-6 lg:grid-cols-2">
            <div class="card">
              <div class="flex flex-col gap-2">
                <h3 class="text-lg font-semibold">Balance payoff trajectory</h3>
                <p class="text-sm text-slate-400">
                  Remaining balance vs. payment number for the selected scenario.
                </p>
              </div>
              <canvas id="balanceChart" height="320"></canvas>
            </div>
            <div class="card">
              <div class="flex flex-col gap-2">
                <h3 class="text-lg font-semibold">Principal vs. interest composition</h3>
                <p class="text-sm text-slate-400">
                  How each payment splits between principal reduction and interest.
                </p>
              </div>
              <canvas id="compositionChart" height="320"></canvas>
            </div>
          </div>

          <div class="card">
            <div class="flex flex-col gap-2">
              <h3 class="text-lg font-semibold">Amortization schedule</h3>
              <p class="text-sm text-slate-400">
                Detailed payment breakdown for the selected scenario. Scroll to explore.
              </p>
            </div>
            <div class="overflow-x-auto max-h-[480px]">
              <table class="min-w-full text-left text-xs md:text-sm">
                <thead class="text-slate-300 uppercase tracking-wide text-[0.65rem] md:text-xs">
                  <tr>
                    <th class="px-4 py-3">#</th>
                    <th class="px-4 py-3">Payment</th>
                    <th class="px-4 py-3">Principal</th>
                    <th class="px-4 py-3">Interest</th>
                    <th class="px-4 py-3">Balance</th>
                  </tr>
                </thead>
                <tbody id="scheduleTable" class="divide-y divide-slate-800"></tbody>
              </table>
            </div>
          </div>
        </section>

        <section id="emptyState" class="card empty">
          <div class="flex flex-col gap-3 items-start">
            <h2 class="text-xl font-semibold">Your mortgage insights will appear here</h2>
            <p class="text-sm text-slate-400 max-w-2xl">
              Configure your scenarios above to generate comparative analytics. You'll see
              monthly payment and interest summaries, interactive charts, and a full
              amortization table tailored to your selections.
            </p>
          </div>
        </section>
      </main>
    </div>
    <script src="/static/main.js" type="module"></script>
  </body>
</html>
